<app-page-form
  class="user-page"
  submodule="USUARIO"
  module="{{ isEdit ? 'EDITAR' : isShow ? 'VER' : 'NUEVO' }}"
  [class.page-form-show]="isShow"
  [formGroup]="form"
  [hasChange]="hasChange"
  [isEdit]="isEdit"
  [isShow]="isShow"
  [modelo]="modelo"
  (backClick)="back($event)"
  (editClick)="redirectToEdit()"
  (submitEvent)="submit(false)"
>
  <div class="user-page-content">
    <div class="row page-form-row">
      <ng-container *ngIf="loggedUser$ | async as user">
        <ng-container *ngIf="!user.gestor_carga_id">
          <div class="col-12 col-md-3 mb-2 d-flex align-items-center">
            <app-gestor-carga-dialog-field
              [form]="form"
              class="app-input-field"
            ></app-gestor-carga-dialog-field>
          </div>
        </ng-container>
      </ng-container>
      <div class="col-12 col-md-3 mb-2 d-flex align-items-center">
        <label class="form-label-name mr-2">Nombre</label>
        <app-input-field
          controlName="first_name"
          [autofocus]="true"
          [form]="form"
          class="app-input-field name"
        ></app-input-field>
      </div>
      <div class="col-12 col-md-3 mb-2 d-flex align-items-center">
        <label class="form-label-name mr-2">Apellido</label>
        <app-input-field
          controlName="last_name"
          [form]="form"
          class="app-input-field last-name"
        ></app-input-field>
      </div>
      <div class="col-12 col-md-3 mb-2 d-flex align-items-center">
        <label class="form-label-user-name mr-2">Nombre de usuario</label>
        <app-input-field
          controlName="usuario"
          [form]="form"
          class="app-input-field user-name"
        ></app-input-field>
      </div>
      <div class="col-12 col-md-3 mb-2 d-flex align-items-center">
        <label class="form-label-email mr-2">E-mail</label>
        <app-input-field
          controlName="email"
          [form]="form"
          class="app-input-field e-mail"
        ></app-input-field>
      </div>
      <div
        class="col-xs-12 col-sm-6 col-md-4"
        *ngIf="!isCreate && !editPasswords"
      >
        <button
          *ngIf="isEdit"
          type="button"
          class="edit-pass-buttons"
          mat-raised-button
          (click)="editPasswords = !editPasswords"
        >
          Editar contrase単as
        </button>
      </div>
      <ng-container *ngIf="isCreate || editPasswords">
        <div class="col-12 col-md-4 mb-2 d-flex align-items-center">
        <label class="form-label-password mr-2">Contrase単a</label>
          <app-password-field
            controlName="contrasena"
            [form]="form"
            class="app-input-field password"
          ></app-password-field>
        </div>
        <div class="col-12 col-md-3 mb-2 d-flex align-items-center">
        <label class="form-label-password-repeat mr-2">Repetir contrase単a</label>
          <app-password-field
            controlName="confirm_password"
            [form]="form"
            class="app-input-field password"
          ></app-password-field>
        </div>
      </ng-container>
      <div
        class="col-xs-12 col-sm-6 col-md-4"
        *ngIf="!isCreate && editPasswords"
      >
        <button
          type="button"
          class="edit-pass-buttons"
          mat-raised-button
          (click)="editPasswords = !editPasswords"
        >
          Ocultar contrase単as
        </button>
      </div>
      <div class="col-xs-12" *ngIf="isEdit || isShow">
        <app-estado-field [estado]="estado"></app-estado-field>
      </div>
      <div class="col-xs-12">
        <app-rol-field [control]="form.controls['roles']"></app-rol-field>
      </div>
    </div>
  </div>
</app-page-form>
