<div *ngIf="form" [formGroup]="form">

  <ng-container *ngIf="groupName">

    <mat-label class="custom-label">
      <span *ngIf="requerido" class="required">(*) </span>
      {{ title }}
    </mat-label>

    <mat-form-field [formGroupName]="groupName">
      <input
        matInput
        [autocomplete]="autocomplete"
        [formControlName]="controlName"
        [appAutofocus]="autofocus"
        [readonly]="readonly"
        [disabled]="disabled"
        tabindex="{{ readonly ? -1 : 0 }}"
        appInputThousandsSeparator
        [pattern]="decimalPattern"
      />
      <mat-hint *ngIf="hint"
      [ngClass]="{
        'large-bold-hint': controlName === 'monto_retirado' || controlName === 'cantidad_retirada'
      }" [innerHTML]="hint"></mat-hint>
      <mat-hint *ngIf="hasMoreThanTwoDecimals">
        Debe tener como máximo 2 decimales.
      </mat-hint >
      
      <mat-error *ngIf="control.hasError('required')">
        Este campo es <strong>requerido</strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('min')">
        El valor debe ser
        <strong>
          mayor o igual que {{ control.getError("min").min | numberFormat }}
        </strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('max')">
        El valor debe ser
        <strong>
          menor o igual que {{ control.getError("max").max | numberFormat }}
        </strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('pattern')">
        {{ patternMessageError(control.getError("pattern")) }}
      </mat-error>
    </mat-form-field>

  </ng-container>

  <ng-container *ngIf="!groupName">

    <mat-label class="custom-label">
      <span *ngIf="requerido" class="required">(*) </span>
      {{ title }}
    </mat-label>

    <mat-form-field>
      <input
        matInput
        [autocomplete]="autocomplete"
        [formControlName]="controlName"
        [appAutofocus]="autofocus"
        [readonly]="readonly"
        [disabled]="disabled"
        tabindex="{{ readonly ? -1 : 0 }}"
        appInputThousandsSeparator
        [pattern]="decimalPattern"
      />
      <mat-hint *ngIf="hint" [innerHTML]="hint"
      [ngClass]="{
        'large-bold-hint': controlName === 'monto_retirado' || controlName === 'cantidad_retirada'
      }" ></mat-hint>
      <mat-hint *ngIf="hasMoreThanTwoDecimals">
        Debe tener como máximo 2 decimales.
      </mat-hint>
      <mat-error *ngIf="control.hasError('required')">
        Este campo es <strong>requerido</strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('min')">
        El valor debe ser
        <strong>
          mayor que {{ control.getError("min").min | numberFormat }}
        </strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('max')">
        El valor debe ser
        <strong>
          menor que {{ control.getError("max").max | numberFormat }}
        </strong>
      </mat-error>
    </mat-form-field>

  </ng-container>

</div>
