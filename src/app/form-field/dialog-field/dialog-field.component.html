<div *ngIf="form">
  <mat-form-field>
    <mat-label>{{ title }}</mat-label>
    <app-dialog-form-field-control
      [disabled]="readonly"
      [descripcionPropName]="inputValuePropName"
      [columns]="columns"
      [list]="list"
      [title]="title"
      [formControl]="control"
      [dialogRefFunction]="dialogRefFunction"
      [fetchFunction]="fetchFunction"
      (emptyListChange)="emptyListChange.emit()"
      (valueChange)="$event && valueChange.emit($event)"
    ></app-dialog-form-field-control>
    <button
      type="button"
      matSuffix
      mat-icon-button
      (click)="$event.stopPropagation(); clearSelectedValue()"
      *ngIf="control.value"
      [disabled]="disabled || readonly"
    >
      <mat-icon>close</mat-icon>
    </button>
    <button
      type="button"
      matSuffix
      mat-icon-button
      (click)="$event.stopPropagation(); openDialog()"
      [disabled]="disabled || readonly"
    >
      <mat-icon>list</mat-icon>
    </button>
    <mat-error *ngIf="control.hasError('required')">
      El campo es <strong>requerido</strong>
    </mat-error>
  </mat-form-field>
</div>
