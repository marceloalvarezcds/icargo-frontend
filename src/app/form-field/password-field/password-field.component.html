<div *ngIf="form" [formGroup]="form" class="field-content">

  <ng-container *ngIf="groupName">

    <mat-label class="custom-label">
      <span *ngIf="requerido" class="required">(*) </span>
      {{ title }}
    </mat-label>

    <mat-form-field [formGroupName]="groupName">
      <input
        matInput
        [value]="rowValue"
        [disabled]="readonly"
        *ngIf="readonly"
      />
      <input
        matInput
        autocomplete="new-password"
        [formControlName]="controlName"
        [appAutofocus]="autofocus"
        [hidden]="readonly"
        [type]="showPassword ? 'text' : 'password'"
      />
      <button
        type="button"
        matSuffix
        mat-icon-button
        (click)="showPassword = !showPassword"
      >
        <mat-icon>
          {{ showPassword ? "visibility_off" : "visibility" }}
        </mat-icon>
      </button>
      <mat-error *ngIf="control.hasError('required')">
        Este campo es <strong>requerido</strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('mustMatch')">
        Las contraseñas no <strong>coinciden</strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('minlength')">
        La contraseña <strong>debe contener al menos 6 caracteres</strong>
      </mat-error>
    </mat-form-field>
  </ng-container>

  <ng-container *ngIf="!groupName">

    <mat-label class="custom-label">
      <span *ngIf="requerido" class="required">(*) </span>
      {{ title }}
    </mat-label>

    <mat-form-field floatLabel="always" appearance="outline">
      <input
        matInput
        [value]="rowValue"
        [disabled]="readonly"
        *ngIf="readonly"
      />
      <input
        matInput
        type="password"
        [formControlName]="controlName"
        [appAutofocus]="autofocus"
        [hidden]="readonly"
        [type]="showPassword ? 'text' : 'password'"
      />
      <button
        type="button"
        matSuffix
        mat-icon-button
        (click)="showPassword = !showPassword"
      >
        <mat-icon>
          {{ showPassword ? "visibility_off" : "visibility" }}
        </mat-icon>
      </button>
      <mat-error *ngIf="control.hasError('required')">
        La contraseña es <strong>requerida</strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('mustMatch')">
        Las contraseñas no <strong>coinciden</strong>
      </mat-error>
      <mat-error *ngIf="control.hasError('minlength')">
        La contraseña <strong>debe contener al menos 6 caracteres</strong>
      </mat-error>
    </mat-form-field>
  </ng-container>

</div>
