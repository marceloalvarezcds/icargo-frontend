


  <h1 mat-dialog-title style="padding: 10px;">

    <ng-container *ngIf="isNew">
      <span class="titulo">Movimientos <span class="titulo-azul">Pendientes</span> a Liquidar</span>
    </ng-container>

    <ng-container *ngIf="!isNew">
      <span class="titulo-azul">{{liquidacion?.estado}}</span><span class="titulo"> Movimientos  Liquidados</span>
    </ng-container>

    <button mat-button type="button" mat-dialog-close class="close">
      <mat-icon>close</mat-icon>
    </button>
  </h1>

  <div mat-dialog-content>

    <ng-container *ngIf="isNew; then new; else edit">
    </ng-container>

    <ng-template #new>

      <app-liquidacion-form-fields
          #child
          [etapa]="etapa"
          [estadoCuenta]="estadoCuenta"
          [list]="list"
          (createdLiquidacionEvt)="onCreateLiquidacion($event)"
        >
      </app-liquidacion-form-fields>

    </ng-template>

    <ng-template #edit>

      <app-liquidacion-edit-fields
          #childEdit
          [isEdit]="isEdit"
          [item]="liquidacion"
          [etapa]="etapa"
          [estadoCuenta]="estadoCuenta"
          [movimientos]="list"
          (actualizarLiquidacion)="loadLiquidacion()"
          (actualizarEstado)="cerrarLiquidacion()"
          (actualizarMovimientos)="getMovimientos(liquidacion!)"
        >
      </app-liquidacion-edit-fields>

    </ng-template>

    <div class="col-xs-8 button-container has-movimiento">
      <button mat-raised-button type="button" mat-dialog-close>Cerrar</button>
      <button *ngIf="isNew" mat-raised-button type="button"
          id="submit-button" cdkFocusInitial
          (click)="confirm()" color="primary" >
        Guardar Liquidaci√≥n
      </button>
      <button *ngIf="!esFinalizado && !isNew && isEdit" mat-raised-button type="button"
          id="submit-button" cdkFocusInitial
          (click)="actualizar()" color="primary" >
        Guardar
      </button>
    </div>


