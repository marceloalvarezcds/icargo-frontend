<form [formGroup]="form">

  <span mat-dialog-title>
    <span [ngClass]="{ 'action-text': true }">{{ actionText }}</span>
    <span class="anticipos-text"> ANTICIPO</span>
  </span>

  <div class="section" >
    <h2> </h2>
  </div>

  <div mat-dialog-content>

    <div class="row">
      <div class="input-form-full col-xs-12 col-sm-6 col-md-5">
        <label>Tipo Anticipo</label>
        <mat-form-field>
          <mat-select formControlName="tipo_anticipo_id" (selectionChange)="tipoAnticipoChange($event.value)" >
            <mat-option *ngFor="let tipo of tiposAnticipo" [value]="tipo.value">
              {{ tipo.descripcion }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <ng-container *ngIf="form.get('tipo_anticipo_id')?.value === 'insumo'">
        <app-punto-venta-map-dialog-field
          class="input-form-full col-xs-12 col-sm-6 col-md-5"
          [form]="form"
          (valueChange)="$event && puntoVentaChange($event)"
        ></app-punto-venta-map-dialog-field>
        <div class="space-bottom proveedor">
          <strong class="proveedor-label">Proveedor: </strong><span class="input-like">{{ proveedor }}</span>
        </div>
        <div class="inline-container">
          <app-number-field
            class="input-form-full col-xs-12 col-sm-6 col-md-5"
            title="Monto"
            controlName="monto_retirado"
            [readonly]="esConLitro"
            [form]="form"
            [hint]="montoRetiradoHint"
          ></app-number-field>
          <app-moneda-field [form]="form"></app-moneda-field>
        </div>
      </ng-container>
      <!-- <ng-container *ngIf="form.get('tipo_anticipo_id')?.value === 'insumo'">
        <app-punto-venta-map-dialog-field

          [form]="form"

        ></app-punto-venta-map-dialog-field>
        <div><strong>Proveedor: </strong>{{ proveedor }}</div>
        <div><strong>Tipo de Insumo: </strong>{{ tipoInsumo }}</div>
        <div><strong>Insumo: </strong>{{ insumo }}</div>
        <div class="inline-container">
          <strong>Monto: </strong><span class="spaced">{{ monto }}</span>
          <strong>Moneda: </strong><span>{{ moneda }}</span>
        </div>
        <div class="space-bottom">
          <strong>Precio Unitario: </strong>{{ precioUnitarioControl.value | numberFormat }}
        </div>
      </ng-container> -->

      <ng-container *ngIf="form.get('tipo_anticipo_id')?.value === 'efectivo'">
        <app-punto-venta-map-dialog-field
          class="input-form-full col-xs-12 col-sm-6 col-md-5"
          [form]="form"
          (valueChange)="$event && puntoVentaChange($event)"
        ></app-punto-venta-map-dialog-field>
        <div class="space-bottom proveedor">
          <strong class="proveedor-label">Proveedor: </strong><span class="input-like">{{ proveedor }}</span>
        </div>
        <div class="inline-container">
          <app-number-field
            title="Monto"
            controlName="monto_retirado"
            [readonly]="esConLitro"
            [form]="form"
            [hint]="montoRetiradoHint"
          ></app-number-field>
          <app-moneda-field [form]="form"></app-moneda-field>
        </div>
      </ng-container>

    </div>

    <div class="row">

      <div class="input-form-full col-xs-12 col-sm-6 col-md-5">
        <label for="observacion">Seleccione una opción</label>
        <mat-radio-group
          formControlName="es_con_litro"
          [hidden]="!isTipoInsumo">
          <mat-radio-button [value]="true">Litros</mat-radio-button>
          <mat-radio-button [value]="false">Monto</mat-radio-button>
        </mat-radio-group>
      </div>

      <app-number-field
        [hidden]="!esConLitro"
        class="input-form-full col-xs-12 col-sm-6 col-md-5"
        title="Cantidad retirada"
        controlName="cantidad_retirada"
        [form]="form"
      ></app-number-field>

      <div class="input-form-full col-xs-12 col-sm-6 col-md-5">
        <label for="observacion">Observación:</label>
        <mat-form-field appearance="outline" class="observacion-field">
          <textarea
            matInput
            id="observacion"
            formControlName="observacion"
            cdkTextareaAutosize
            #autosize="cdkTextareaAutosize"
            cdkAutosizeMinRows="1"
          ></textarea>
        </mat-form-field>
      </div>

    </div>

    <div class="row">

      <app-tipo-comprobante-field
        class="input-form-full col-xs-12 col-sm-6 col-md-5"
        [form]="form">
      </app-tipo-comprobante-field>

      <app-input-field
        class="input-form-full col-xs-12 col-sm-6 col-md-5"
        title="Nº de comprobante"
        controlName="numero_comprobante"
        [form]="form">
      </app-input-field>

    </div>

  </div>

  <div mat-dialog-actions  class="buttons-actions">
    <button
      mat-stroked-button
      class="botones"  type="button"
      mat-dialog-close>
      <mat-icon>close</mat-icon>
      Cerrar</button>
    <button
      mat-flat-button
      class="botones" color="primary" type="button"
      (click)="submit()"
      cdkFocusInitial
      id="submit-button"
      disabled="true">
    <mat-icon>save</mat-icon> GUARDAR
    </button>
  </div>
</form>
