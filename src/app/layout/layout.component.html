<div class="layout-global-container">
  <app-header></app-header>
  <mat-sidenav-container
    autosize
    class="sidebar content"
    [ngClass]="{ 'sidebar-expanded': isExpanded }"
  >
    <mat-sidenav #sidenav [mode]="sidebarMode" class="mat-elevation-z2">
      <!--app menu-->
      <mat-nav-list>
        <ng-container *ngFor="let item of menuList$ | async">
          <ng-container *ngIf="item.active">
            <ng-container *ngIf="!(item.children && item.children.length)">
              <a
                mat-list-item
                routerLinkActive="active"
                matTooltipPosition="right"
                [matTooltip]="item.name"
                [matTooltipDisabled]="isExpanded"
                (click)="handleMenuClick($event, item.path)"
                [routerLinkActiveOptions]="{ exact: !!item.isRouteExact }"
                
              >
                <mat-icon
                  mat-list-icon
                  *ngIf="item.iconName"
                  [class.material-icons-outlined]="item.iconOutline"
                  >{{ item.iconName }}</mat-icon
                >
                <span mat-list-text>{{ item.name }}</span>
              </a>
            </ng-container>
            <ng-container *ngIf="item.children && item.children.length">
              <mat-accordion>
                <mat-expansion-panel class="mat-elevation-z0">
                  <mat-expansion-panel-header
                    matTooltipPosition="right"
                    [matTooltip]="item.name"
                    [matTooltipDisabled]="isExpanded"
                  >
                    <mat-panel-title>
                      <mat-icon
                        mat-list-icon
                        *ngIf="item.iconName"
                        [class.material-icons-outlined]="item.iconOutline"
                        >{{ item.iconName }}</mat-icon
                      >
                      <span mat-list-text>{{ item.name }}</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ng-container *ngFor="let child of item.children">
                    <ng-container *ngIf="child.active">
                      <!-- Entradas de cada submenÃº  -->
                      <mat-nav-list class="mat-nav-list-no-pt">
                        <a
                          mat-list-item
                          routerLinkActive="active"
                          matTooltipPosition="right"
                          [matTooltip]="child.name"
                          [matTooltipDisabled]="isExpanded"
                          (click)="handleMenuClick($event, child.path)"
                          [routerLinkActiveOptions]="{
                            exact: !!child.isRouteExact
                          }"
                        
                        >
                          <mat-icon
                            mat-list-icon
                            *ngIf="child.iconName"
                            [class.material-icons-outlined]="child.iconOutline"
                            >{{ child.iconName }}</mat-icon
                          >
                          <div mat-list-text>{{ child.name }}</div>
                        </a>
                      </mat-nav-list>
                    </ng-container>
                  </ng-container>
                </mat-expansion-panel>
              </mat-accordion>
            </ng-container>
          </ng-container>
        </ng-container>
      </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content class="side-bar-content">
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

