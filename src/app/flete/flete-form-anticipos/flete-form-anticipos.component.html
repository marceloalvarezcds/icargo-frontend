<div *ngIf="form" [formGroup]="form">
  <div class="row page-form-row">
    <div class="col-xs-12 obs" [class.obs-error]="formArray.hasError('max')">
      <strong>Obs: </strong>La suma de porcentajes no debe superar el 100%
    </div>
  </div>
  <div class="row page-form-row" [formArrayName]="groupName">
    <ng-container *ngFor="let it of formArray.controls; let index = index">
      <div class="col-12 col-md-4 mb-2 d-flex align-items-center" [formGroupName]="index">
        <label class="form-label mr-2"
        >Porcentaje de Liberaci√≥n de {{ it.get("concepto")?.value }}</label
      >
        <mat-form-field class="porcentaje">
     
          <input
            matInput
            formControlName="porcentaje"
            appInputThousandsSeparator
          />
          <mat-error *ngIf="it?.get('porcentaje')?.hasError('required')">
            Este campo es <strong>requerido</strong>
          </mat-error>
          <mat-error *ngIf="it.get('porcentaje')?.hasError('min')">
            El valor debe ser
            <strong
              >mayor que {{ it.get("porcentaje")?.getError("min").min }}</strong
            >
          </mat-error>
          <mat-error *ngIf="it.get('porcentaje')?.hasError('max')">
            El valor debe ser
            <strong
              >menor que {{ it.get("porcentaje")?.getError("max").max }}</strong
            >
          </mat-error>
        </mat-form-field>
      </div>
    </ng-container>
  </div>
</div>
