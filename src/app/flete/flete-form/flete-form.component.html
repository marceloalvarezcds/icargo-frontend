<app-page-form
  class="flete-page"
  submodule="PEDIDOS"
  module="{{ isEdit ? 'EDITAR' : isShow ? 'VER' : 'NUEVO' }}"
  inactiveTooltipText="Cancelar"
  [class.page-form-show]="isShow"
  [formGroup]="form"
  [hasChange]="hasChange"
  [hideEditButton]="true"
  [isEdit]="isEdit"
  [isShow]="isShow"
  [modelo]="modelo"
  [gestorCargaId]="gestorCargaId"
  [shouldShowInactiveButton]="!isCancel"
  (backClick)="back($event)"
  (editClick)="redirectToEdit()"
  (inactiveClick)="cancelar()"
  (submitEvent)="save(false)"
>
  <div class="flete-page-content">
    <app-flete-form-acciones
      [flete]="item"
      [isShow]="isShow"
      (fleteChange)="getData()"
    ></app-flete-form-acciones>
    <div class="section">
      <h2>INFORMACIÓN PRINCIPAL</h2>
        <app-flete-form-info
          [form]="form"
          [estado]="estado"
          [isShow]="isShow"
          (remitenteChange)="
            info.get('remitente_nombre')?.setValue($event?.nombre)
          "
          (productoChange)="
            info.get('producto_descripcion')?.setValue($event?.descripcion)
          "
        ></app-flete-form-info>
    </div>
    <div class="section detalles">
      <h2>Tramo</h2>
      <app-flete-form-tramo
        [form]="form"
        (origenChange)="tramo.get('origen_nombre')?.setValue($event?.nombre)"
        (destinoChange)="
          tramo.get('destino_nombre')?.setValue($event?.nombre)
        "
      ></app-flete-form-tramo>
    </div>
    <div class="section detalles">
      <h2>Cantidad y Condiciones</h2>
      <app-flete-form-condicion [form]="form"></app-flete-form-condicion>
    </div>
    <div class="section detalles">
      <h2>Mermas</h2>
      <app-flete-form-merma
        afectado="gestor_carga"
        afectadoTitle="Gestor"
        [form]="form"
      ></app-flete-form-merma>
      <app-flete-form-merma
        afectado="propietario"
        afectadoTitle="Propietario"
        [form]="form"
      ></app-flete-form-merma>
    </div>
    <div class="section detalles">
      <h2>Anticipos</h2>
      <app-flete-form-anticipos
        [isCreate]="!isShow && !isEdit"
        [puedeModificar]="puedeModificar"
        [form]="form"
        [anticipoList]="anticipoList"
      ></app-flete-form-anticipos>
    </div>
    <div class="section detalles">
      <h2>Complementos y Descuentos</h2>
      <div class="grid-container">
        <app-flete-form-complementos
          [gestorCuentaId]="gestorCargaId"
          [form]="form"
          [isShow]="isShow"
          [complementoList]="complementoList"
        ></app-flete-form-complementos>
        <app-flete-form-descuentos
          [gestorCuentaId]="gestorCargaId"
          [form]="form"
          [isShow]="isShow"
          [descuentoList]="descuentoList"
        ></app-flete-form-descuentos>
      </div>
    </div>
    
    <div class="section">
      <h2>Emisión de Órdenes</h2>
      <app-flete-form-emision-orden
        [form]="form"
      ></app-flete-form-emision-orden>
    </div>
  </div>

</app-page-form>
