<app-page-form
  class="camion-page"
  submodule="TRACTOS"
  module="{{ isEdit ? 'EDITAR' : isShow ? 'VER' : 'NUEVO' }}"
  [class.page-form-show]="isShow"
  [formGroup]="form"
  [hasChange]="hasChange"
  [isEdit]="isEdit"
  [isShow]="isShow"
  [modelo]="modelo"
  [gestorCargaId]="gestorCuentaId"
  [shouldShowActiveButton]="!isActive"
  [shouldShowInactiveButton]="isActive"
  (backClick)="back($event)"
  (editClick)="redirectToEdit()"
  (activeClick)="active()"
  (inactiveClick)="inactive()"
  (submitEvent)="submit(false)"
>
  <div class="page-container">
    <div class="section" formGroupName="info">
      <h2>INFORMACIÓN PRINCIPAL</h2>
      <app-camion-form-info
        [form]="form"
        [camion]="item"
        [estado]="estado"
        [isEdit]="isEdit"
        [isShow]="isShow"
        [propietarioId]="propietarioId"
        [foto]="foto"
        (fotoChange)="fotoFile = $event"
      ></app-camion-form-info>
    </div>

    <div class="section detalles"><h2>Habilitaciones </h2>
      <div class="row page-form-row">
        <div class="col-xs-12 col-md-4" formGroupName="municipal">
          <app-habilitacion-form-municipal
            [form]="form"
            [isEdit]="isEdit"
            [isShow]="isShow"
            [fotoFrente]="fotoMunicipalFrente"
            [fotoReverso]="fotoMunicipalReverso"
            (fotoFrenteChange)="
              fotoMunicipalFrenteFile = $event; fotoMunicipalFrente = null
            "
            (fotoReversoChange)="
              fotoMunicipalReversoFile = $event; fotoMunicipalReverso = null
            "
          ></app-habilitacion-form-municipal>
        </div>
    
        <div class="col-xs-12 col-md-4" formGroupName="transporte">
          <app-habilitacion-form-transporte
            [form]="form"
            [isEdit]="isEdit"
            [isShow]="isShow"
            [fotoFrente]="fotoTransporteFrente"
            [fotoReverso]="fotoTransporteReverso"
            (fotoFrenteChange)="
              fotoTransporteFrenteFile = $event; fotoTransporteFrente = null
            "
            (fotoReversoChange)="
              fotoTransporteReversoFile = $event; fotoTransporteReverso = null
            "
          ></app-habilitacion-form-transporte>
        </div>
    
        <div class="col-xs-12 col-md-4" formGroupName="automotor">
          <app-habilitacion-form-automotor
            [form]="form"
            [isEdit]="isEdit"
            [isShow]="isShow"
            [fotoFrente]="fotoAutomotorFrente"
            [fotoReverso]="fotoAutomotorReverso"
            (fotoFrenteChange)="
              fotoAutomotorFrenteFile = $event; fotoAutomotorFrente = null
            "
            (fotoReversoChange)="
              fotoAutomotorReversoFile = $event; fotoAutomotorReverso = null
            "
          ></app-habilitacion-form-automotor>
          </div>
      </div>
    </div>
    

    <div class="section detalles" formGroupName="detalle">
        <h2> Detalle </h2>
      <app-camion-form-detalle
        [form]="form"
        [isShow]="isShow"
      ></app-camion-form-detalle>
    </div>

    <div class="section detalles"
      formGroupName="capacidad"
    >
        <h2> Capacidad </h2>
      <app-camion-form-capacidad
        [form]="form"
        [isShow]="isShow"
      ></app-camion-form-capacidad>
    </div>

    <div class="section detalles" formGroupName="limite">
        <h2> Limitaciones </h2>
      <app-camion-form-limite
        [camion]="item"
        [form]="form"
        [isShow]="isShow"
      ></app-camion-form-limite>
    </div>

    <!-- <mat-expansion-panel *ngIf="isEdit || isShow">
      <mat-expansion-panel-header>
        <mat-panel-title> Combinación </mat-panel-title>
      </mat-expansion-panel-header>
      <app-camion-form-combinacion
        [gestorCargaId]="item?.gestor_cuenta_id"
        [isShow]="isShow"
        [camion]="item"
      ></app-camion-form-combinacion>
    </mat-expansion-panel> -->

    <div class="section"*ngIf="isEdit || isShow">
        <h2> Auditoría </h2>
      <app-page-form-audit
        [created_by]="created_by"
        [created_at]="created_at"
        [modified_by]="modified_by"
        [modified_at]="modified_at"
      ></app-page-form-audit>
    </div>
  </div>
</app-page-form>
