<app-page-form
  class="propietario-page"
  submodule="PROPIETARIOS"
  module="{{ isEdit ? 'EDITAR' : isShow ? 'VER' : 'NUEVO' }}"
  [class.page-form-show]="isShow"
  [formGroup]="form"
  [hasChange]="hasChange"
  [isEdit]="isEdit"
  [isShow]="isShow"
  [modelo]="modelo"
  [gestorCargaId]="gestorCuentaId"
  [shouldShowActiveButton]="!isActive"
  [shouldShowInactiveButton]="isActive"
  (backClick)="back($event)"
  (editClick)="redirectToEdit()"
  (activeClick)="active()"
  (inactiveClick)="inactive()"
  (submitEvent)="submit(false)"
>
  <div class="page-container">
      <div class="section" formGroupName="info">
          <h2>INFORMACIÃ“N PRINCIPAL</h2>
        <app-propietario-form-info
          [form]="form"
          [estado]="estado"
          [isEdit]="isEdit"
          [isShow]="isShow"
          [fotoDocumentoFrente]="fotoDocumentoFrente"
          [fotoDocumentoReverso]="fotoDocumentoReverso"
          [fotoPerfil]="fotoPerfil"
          [modelo]="modelo"
          [gestorCuentaId]="gestorCuentaId"
          [cantidadOCConAnticiposLiberados]="cantidadOCConAnticiposLiberados"
          (fotoDocumentoFrenteChange)="
            fotoDocumentoFrenteFile = $event; fotoDocumentoFrente = null
          "
          (fotoDocumentoReversoChange)="
            fotoDocumentoReversoFile = $event; fotoDocumentoReverso = null
          "
          (fotoPerfilChange)="fotoPerfilFile = $event; fotoPerfil = null"
          (anticiposBloqueadosChange)="bloquearAnticipos()"
          (esChoferChange)="esChoferChange($event)"
        ></app-propietario-form-info>
      </div>

      <div class="section"
        formGroupName="chofer"
        [hidden]="!esChofer"
        *ngIf="
          (choferModelo | puede: a.CREAR) ||
          (choferModelo | puede: a.EDITAR) ||
          (choferModelo | puede: a.VER)
        "
      >
        <h2>Chofer</h2>
      <app-propietario-form-chofer
        [form]="form"
        [isEdit]="isEdit"
        [isShow]="isShow"
        [fotoDocumentoFrente]="fotoDocumentoFrenteChofer"
        [fotoDocumentoReverso]="fotoDocumentoReversoChofer"
        (fotoDocumentoFrenteChange)="
          fotoDocumentoFrenteChoferFile = $event;
          fotoDocumentoFrenteChofer = null
        "
        (fotoDocumentoReversoChange)="
          fotoDocumentoReversoChoferFile = $event;
          fotoDocumentoReversoChofer = null
        "
      ></app-propietario-form-chofer>
    </div>

    <div class="section"
      formGroupName="registro"
      [hidden]="!esChofer"
      *ngIf="
        (choferModelo | puede: a.CREAR) ||
        (choferModelo | puede: a.EDITAR) ||
        (choferModelo | puede: a.VER)
      "
    >
      <h2>Registro Chofer</h2>
      <app-registro-conduccion-form
        [form]="form"
        [isShow]="isShow"
        [fotoRegistroFrente]="fotoRegistroFrente"
        [fotoRegistroReverso]="fotoRegistroReverso"
        (fotoRegistroFrenteChange)="
          fotoRegistroFrenteFile = $event; fotoRegistroFrente = null
        "
        (fotoRegistroReversoChange)="
          fotoRegistroReversoFile = $event; fotoRegistroReverso = null
        "
      ></app-registro-conduccion-form>
    </div>
  </div>
</app-page-form>
